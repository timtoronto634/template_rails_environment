templateディレクトリをコピー、もしくはディレクトリ名を変更
env.db.dev にpasswordを設定
ディレクトリの中で
docker-compose run --no-deps web bundle ex rails new . --force --database=postgresql

gemfile からtzinfoを削除
必要であれば、Gemfileを丁寧に変える。rails tutorial なら以下を変更
  gem 'jquery-rails', '~> 4.3'
  gem 'sqlite3', '~> 1.3'
  gem 'rails-controller-testing', '~> 1.0'
  gem 'minitest',                 '~> 5.10'
  gem 'minitest-reporters',       '~> 1.1'
  gem 'guard',                    '~> 2.16'
  gem 'guard-minitest',           '~> 2.4'
tzinfo というgemが邪魔なので消す。windows上で動かすために入っているライブラリ

databaseファイルを以下のように書き換え

```
default: &default
  adapter: postgresql
  encoding: unicode
  host: db
  username: postgres
  password: 設定したパスワード
  pool: 5
```

docker-compose up -d
docker-compose exec web rake db:create

 Yay! Ruby on Rails!

https://docs.docker.com/samples/rails/